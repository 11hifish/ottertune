{% extends "base.html" %}

{% block extra_head %}
<!--[if lt IE 9]><script language="javascript" type="text/javascript" src="{{ STATIC_URL }}js/jqplot/excanvas.js"></script><![endif]-->
<script language="javascript" type="text/javascript" src="{{ STATIC_URL }}js/jqplot/jquery.jqplot.js"></script>
<link rel="stylesheet" type="text/css" href="{{ STATIC_URL }}js/jqplot/jquery.jqplot.css" />
{% endblock %}

{% block body %}

<div class="row">

<div id="sidebar" class="span3">
<div id="env">
    <div><h4>Environment</h4></div>
    <div>
        {% for env in environments %}
            <label><input type="radio" name="environment" value="{{ env.pk }}"> {{ env.name }}</label>
        {% endfor %}
    </div>
</div>
<div id="dbs">
    <div><h4>DBMS</h4></div>
    <div>
        {% for db in db_types %}
        <label><input type="checkbox" name="db" value="{{ db }}"/> {{ db }}</label>
        {% endfor %}
    </div>
</div>
<div id="benchmark">
    <div><h4>Benchmark</h4></div>
    <div>
        <label><input class="option" type="radio" name="benchmark" value="grid"/> Display all in a grid</label>
        <label><input class="option" type="radio" name="benchmark" value="show_none" /> Display none</label>
        {% for bench in benchmarks %}
        <label><input id="benchmark_{{ bench }}" type="radio" name="benchmark" value="{{ bench }}" /> {{ bench }}</label>
        {% endfor %}
    </div>
</div>
</div>

<div class="span10">
<div id="configbar" class="row">
    <div class="span5">
    Show the last
    <select id="revisions" class="option">
        {% for rev in lastrevisions %}
        <option value="{{ rev }}">{{ rev }}</option>
        {% endfor %}
    </select> results
    </div>
    <div class="span5">
        <label><input id="equidistant" class="option" name="equidistant" type="checkbox"/> Equidistant</label>
    </div>
</div>

<div id="content">
    <div id="plotgrid"></div>
    <div id="plotdescription"></div>
</div>
</div>

<script type="text/javascript" src="{{ STATIC_URL }}js/jqplot/jqplot.cursor.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jqplot/jqplot.highlighter.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jqplot/jqplot.dateAxisRenderer.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jqplot/jqplot.categoryAxisRenderer.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jqplot/jqplot.canvasTextRenderer.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/jqplot/jqplot.canvasAxisLabelRenderer.js"></script>


<script type="text/javascript" src="{{ STATIC_URL }}js/timeline.js"></script>
<script language="javascript">
$(function() {
    Timeline.init({
        proj: {{ project.pk }},
        dbs: [{% for db in db_types %}"{{ db }}", {% endfor %}],
      revisions: {{ defaultlast }},
      baseline: "{{ defaultbaseline }}",
      executables: [{% for exe in checkedexecutables %}{{ exe.id }}, {% endfor %}],
      branches: [{% for b in branch_list %}"{{ branch }}", {% endfor %}],
      benchmark: "{{ defaultbenchmark }}",
      environment: {{ defaultenvironment.id }},
      equidistant: "{{ defaultequid }}",
    });
  });
</script>

{% endblock body %}
